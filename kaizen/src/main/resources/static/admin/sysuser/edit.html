<!DOCTYPE html>
<html>
  <head>
  	<base href="#(basePath)" />
    <title>编辑用户页面</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    #@cssModel?()
  </head>
  
  <body>
    
    <form class="layui-form" id="formDemo" method="post"  style="margin-top: 5px;">
			 
	    <input type="hidden" name="sysuser.id" id="sysuser.id" value="#(sysuser.id??)" >
			 
  		 <div class="layui-form-item">
		     <label class="layui-form-label">用户名:</label>
		    <div class="layui-input-inline">
		      <input type="text" name="sysuser.name" id="name" lay-verify="username" value="#(sysuser.name??)" style="width: 200px;"  autocomplete="off"  class="layui-input">
		    </div>
		    #if(!sysuser.id??)
			    <label class="layui-form-label">登录密码:</label>
			    <div class="layui-input-inline">
			      <input type="password" name="sysuser.pwd"  id="pwd" lay-verify="passV"    style="width: 200px;"  autocomplete="off" class="layui-input">
			    </div>
			    <label class="layui-form-label">密码确认:</label>
			    <div class="layui-input-inline">
			      <input type="password" name="repwd"  id="repwd " lay-verify="passV"   style="width: 200px;"  autocomplete="off" class="layui-input">
			    </div>
		    #end
		 </div>
  		 <div class="layui-form-item">
		    <label class="layui-form-label">真实姓名:</label>
		    <div class="layui-input-inline">
		      <input type="text" name="sysuser.realname" id="realname"   value="#(sysuser.realname??)"    style="width: 200px;"  autocomplete="off" class="layui-input">
		    </div>
		    <label class="layui-form-label">性别:</label>
		    <div class="layui-input-inline">
		      	<input type="radio" name="sysuser.sex" value="#(ncus.JfinalNew.com.common.ApplicationConst::boyFlag)" title="男"  #if(ncus.JfinalNew.com.common.ApplicationConst::boyFlag == sysuser.sex??) checked  #end>
      			<input type="radio" name="sysuser.sex" value="#(ncus.JfinalNew.com.common.ApplicationConst::girlFlag)" title="女"   #if(ncus.JfinalNew.com.common.ApplicationConst::girlFlag == sysuser.sex??) checked  #end>
		    </div>
		     <label class="layui-form-label">年龄:</label>
		    <div class="layui-input-inline">
		      <input type="text" name="sysuser.age" id="age"   value="#(sysuser.age??)"   lay-verify="number" style="width: 200px;"  autocomplete="off" class="layui-input">
		    </div>
		 </div>
  		
  		<div class="layui-form-item">
  			 <label class="layui-form-label">出生日期:</label>
		    <div class="layui-input-inline">
		      <input type="text" name="sysuser.birthday" id="birthday"   value="#(sysuser.birthday??)"   lay-verify="date" style="width: 200px;"  autocomplete="off" class="layui-input">
		    </div>
		    <label class="layui-form-label">爱好:</label>
		    <div class="layui-input-inline">
		      <input type="text" name="sysuser.hobby"  id="hobby" lay-verify="addressV"   value="#(sysuser.hobby??)"   style="width: 200px;"  autocomplete="off" class="layui-input">
		    </div>
		    <label class="layui-form-label">手机号码:</label>
		    <div class="layui-input-inline">
		      <input type="text" name="sysuser.telephone"  id="telephone" lay-verify="phone"  value="#(sysuser.telephone??)"   style="width: 200px;"  autocomplete="off" class="layui-input">
		    </div>
	  </div>
  		 <div class="layui-form-item">
		     <label class="layui-form-label">邮箱:</label>
		    <div class="layui-input-inline">
		      <input type="text" name="sysuser.email" id="email" lay-verify="email" value="#(sysuser.email??)" style="width: 200px;"  autocomplete="off"  class="layui-input">
		    </div>
		    <label class="layui-form-label">住址:</label>
		    <div class="layui-input-inline">
		      <input type="text" name="sysuser.address" id="address" lay-verify="addressV" value="#(sysuser.address??)" style="width: 510px;"  autocomplete="off"  class="layui-input">
		    </div>
		 </div>
  		<div class="layui-form-item">
		     <label class="layui-form-label">分配角色:</label>
		     	<input type="hidden" id="roleidsDemo" name="roleidsDemo" value="#(sysuser.roleids??)" />
		     <div class="layui-input-inline" id="userRoleDiv" style="width: 850px;">
		     	#@checkBoxPrimaryElementJF("roleidsModel",true,condMap,valMap)
		     </div>
		 </div>
		
  		 <div class="layui-form-item">
		    <label class="layui-form-label">描述:</label>
		    <div class="layui-input-inline">
		      <textarea name="sysuser.remark" id="remark" style="width: 800px;height: 50px;" placeholder="请输入描述信息" class="layui-textarea">#(sysuser.remark??)</textarea>
		    </div>
		 </div>
		  
		  
		  <!-- 触发提交的按钮 -->
		  <button id="subBut" class="layui-btn"  style="display: none" lay-submit lay-filter="formDemo">立即提交</button>
  	</form>
    
    #@jsModel?()
    <script type="text/javascript">
    	/**固定写法*/
		var flag=false;
		
    	layui.config({base: "JFinalNew/js/"}).use(["layer","jquery","form","common"], function() {
				var $ = layui.jquery;
				var layer = layui.layer;
				var form=layui.form();
				var common = layui.common;
				
				
				/**固定写法*/
				form.on('submit(formDemo)', function(data){
					flag=true;
				    return false;
				});
				/**监听资源类型操作*/
				form.on("radio(radioChoose)", function(data){
					common.getMsgBlackDialog("该选项作为资源权限标记,慎重选择...",2000);
				});  
				
				/**时间控件*/
				$("#birthday").click(function(){
					common.getDataTimeFun(this);
				});
				
				/**验证规则*/
				form.verify({
				  username: function(value, item){
				    if(!new RegExp("^[a-zA-Z0-9_\u4e00-\u9fa5\\s·]+$").test(value)){
				      return '登录名不能有特殊字符';
				    }
				    if(/(^\_)|(\__)|(\_+$)/.test(value)){
				      return '登录名首尾不能出现下划线\'_\'';
				    }
				    if(/^\d+\d+\d$/.test(value)){
				      return '登录名不能全为数字';
				    }
				    if(!new RegExp("^.{6,25}$").test(value)){
				      return '登录名长度为6-25';
				    }
				  },
				  passV: function(value, item){
				    if(!new RegExp("^[a-zA-Z0-9_\u4e00-\u9fa5\\s·]+$").test(value)){
				      return '密码不能有特殊字符';
				    }
				    if(/(^\_)|(\__)|(\_+$)/.test(value)){
				      return '密码名首尾不能出现下划线\'_\'';
				    }
				    if(!new RegExp("^.{6,25}$").test(value)){
				      return '密码长度为6-25';
				    }
				  },
				  addressV:function(value, item){
				    if(!new RegExp("^.{0,100}$").test(value)){
				      return '密码长度为6-100';
				    }
				  }
				});  
		});
		/**固定写法*/
		function submitForm(){
			$("#subBut").click();
	 		return flag;
		}
    </script>
  </body>
</html>
